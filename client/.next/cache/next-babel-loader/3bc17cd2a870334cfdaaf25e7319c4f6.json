{"ast":null,"code":"import cookie from \"js-cookie\"; // setting cookie\n\nexport var setCookie = function setCookie(key, value) {\n  if (true) {\n    cookie.set(key, value, {\n      expires: 7\n    });\n  }\n}; // removing cookie\n\nexport var removeCookie = function removeCookie(key) {\n  if (true) {\n    cookie.remove(key);\n  }\n}; // get cookie from storage\n\nexport var getCookie = function getCookie(key) {\n  if (true) {\n    return cookie.get(key);\n  }\n}; // save to local storage\n\nexport var setLocalStorage = function setLocalStorage(key, value) {\n  if (true) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n}; // clear local storage\n\nexport var clearLocalStorage = function clearLocalStorage(key) {\n  if (true) {\n    localStorage.removeItem(key);\n  }\n}; // user authentication\n\nexport var authenticateUser = function authenticateUser(response, next) {\n  setCookie(\"token\", response.data.token);\n  setLocalStorage(\"user\", response.data.user);\n  next();\n}; // get user data from local storage\n\nexport var isUserAuthenticated = function isUserAuthenticated() {\n  if (true) {\n    var cookiePresent = getCookie(\"token\");\n\n    if (cookiePresent) {\n      if (localStorage.getItem(\"user\")) {\n        return JSON.parse(localStorage.getItem(\"user\"));\n      } else {\n        return false;\n      }\n    }\n  }\n}; // log out user\n\nexport var logOutUser = function logOutUser() {\n  if (true) {\n    clearLocalStorage(\"user\");\n    removeCookie(\"token\");\n  }\n};","map":{"version":3,"sources":["D:/Courses Projects In Work/Portfolio/sci-waves/client/utils/helpers.js"],"names":["cookie","setCookie","key","value","set","expires","removeCookie","remove","getCookie","get","setLocalStorage","localStorage","setItem","JSON","stringify","clearLocalStorage","removeItem","authenticateUser","response","next","data","token","user","isUserAuthenticated","cookiePresent","getItem","parse","logOutUser"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB,C,CAEA;;AACA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAMC,KAAN,EAAgB;AACvC,YAAqB;AACnBH,IAAAA,MAAM,CAACI,GAAP,CAAWF,GAAX,EAAgBC,KAAhB,EAAuB;AACrBE,MAAAA,OAAO,EAAE;AADY,KAAvB;AAGD;AACF,CANM,C,CAQP;;AACA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACJ,GAAD,EAAS;AACnC,YAAqB;AACnBF,IAAAA,MAAM,CAACO,MAAP,CAAcL,GAAd;AACD;AACF,CAJM,C,CAMP;;AACA,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAACN,GAAD,EAAS;AAChC,YAAqB;AACnB,WAAOF,MAAM,CAACS,GAAP,CAAWP,GAAX,CAAP;AACD;AACF,CAJM,C,CAMP;;AACA,OAAO,IAAMQ,eAAe,GAAG,SAAlBA,eAAkB,CAACR,GAAD,EAAMC,KAAN,EAAgB;AAC7C,YAAqB;AACnBQ,IAAAA,YAAY,CAACC,OAAb,CAAqBV,GAArB,EAA0BW,IAAI,CAACC,SAAL,CAAeX,KAAf,CAA1B;AACD;AACF,CAJM,C,CAMP;;AACA,OAAO,IAAMY,iBAAiB,GAAG,SAApBA,iBAAoB,CAACb,GAAD,EAAS;AACxC,YAAqB;AACnBS,IAAAA,YAAY,CAACK,UAAb,CAAwBd,GAAxB;AACD;AACF,CAJM,C,CAMP;;AACA,OAAO,IAAMe,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,QAAD,EAAWC,IAAX,EAAoB;AAClDlB,EAAAA,SAAS,CAAC,OAAD,EAAUiB,QAAQ,CAACE,IAAT,CAAcC,KAAxB,CAAT;AACAX,EAAAA,eAAe,CAAC,MAAD,EAASQ,QAAQ,CAACE,IAAT,CAAcE,IAAvB,CAAf;AACAH,EAAAA,IAAI;AACL,CAJM,C,CAMP;;AACA,OAAO,IAAMI,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AACvC,YAAqB;AACnB,QAAMC,aAAa,GAAGhB,SAAS,CAAC,OAAD,CAA/B;;AACA,QAAIgB,aAAJ,EAAmB;AACjB,UAAIb,YAAY,CAACc,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChC,eAAOZ,IAAI,CAACa,KAAL,CAAWf,YAAY,CAACc,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD,OAFD,MAEO;AACL,eAAO,KAAP;AACD;AACF;AACF;AACF,CAXM,C,CAaP;;AACA,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9B,YAAqB;AACnBZ,IAAAA,iBAAiB,CAAC,MAAD,CAAjB;AACAT,IAAAA,YAAY,CAAC,OAAD,CAAZ;AACD;AACF,CALM","sourcesContent":["import cookie from \"js-cookie\"\r\n\r\n// setting cookie\r\nexport const setCookie = (key, value) => {\r\n  if (process.browser) {\r\n    cookie.set(key, value, {\r\n      expires: 7,\r\n    })\r\n  }\r\n}\r\n\r\n// removing cookie\r\nexport const removeCookie = (key) => {\r\n  if (process.browser) {\r\n    cookie.remove(key)\r\n  }\r\n}\r\n\r\n// get cookie from storage\r\nexport const getCookie = (key) => {\r\n  if (process.browser) {\r\n    return cookie.get(key)\r\n  }\r\n}\r\n\r\n// save to local storage\r\nexport const setLocalStorage = (key, value) => {\r\n  if (process.browser) {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n  }\r\n}\r\n\r\n// clear local storage\r\nexport const clearLocalStorage = (key) => {\r\n  if (process.browser) {\r\n    localStorage.removeItem(key)\r\n  }\r\n}\r\n\r\n// user authentication\r\nexport const authenticateUser = (response, next) => {\r\n  setCookie(\"token\", response.data.token)\r\n  setLocalStorage(\"user\", response.data.user)\r\n  next()\r\n}\r\n\r\n// get user data from local storage\r\nexport const isUserAuthenticated = () => {\r\n  if (process.browser) {\r\n    const cookiePresent = getCookie(\"token\")\r\n    if (cookiePresent) {\r\n      if (localStorage.getItem(\"user\")) {\r\n        return JSON.parse(localStorage.getItem(\"user\"))\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// log out user\r\nexport const logOutUser = () => {\r\n  if (process.browser) {\r\n    clearLocalStorage(\"user\")\r\n    removeCookie(\"token\")\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}