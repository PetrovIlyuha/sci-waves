{"ast":null,"code":"import cookie from \"js-cookie\"; // setting cookie\n\nexport const setCookie = (key, value) => {\n  if (false) {\n    cookie.set(key, value, {\n      expires: 7\n    });\n  }\n}; // removing cookie\n\nexport const removeCookie = key => {\n  if (false) {\n    cookie.remove(key);\n  }\n}; // get cookie from storage\n\nexport const getCookie = key => {\n  return false ? getCookieClientSide(key) : getCookieServerSide(key, req);\n}; // save to local storage\n\nexport const setLocalStorage = (key, value) => {\n  if (false) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n}; // clear local storage\n\nexport const clearLocalStorage = key => {\n  if (false) {\n    localStorage.removeItem(key);\n  }\n}; // user authentication\n\nexport const authenticateUser = (response, next) => {\n  setCookie(\"token\", response.data.token);\n  setLocalStorage(\"user\", response.data.user);\n  next();\n}; // get user data from local storage\n\nexport const isUserAuthenticated = () => {\n  if (false) {\n    const cookiePresent = getCookie(\"token\");\n\n    if (cookiePresent) {\n      if (localStorage.getItem(\"user\")) {\n        return JSON.parse(localStorage.getItem(\"user\"));\n      } else {\n        return false;\n      }\n    }\n  }\n}; // log out user\n\nexport const logOutUser = () => {\n  if (false) {\n    clearLocalStorage(\"user\");\n    removeCookie(\"token\");\n  }\n};","map":{"version":3,"sources":["D:/Courses Projects In Work/Portfolio/sci-waves/client/utils/helpers.js"],"names":["cookie","setCookie","key","value","set","expires","removeCookie","remove","getCookie","getCookieClientSide","getCookieServerSide","req","setLocalStorage","localStorage","setItem","JSON","stringify","clearLocalStorage","removeItem","authenticateUser","response","next","data","token","user","isUserAuthenticated","cookiePresent","getItem","parse","logOutUser"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB,C,CAEA;;AACA,OAAO,MAAMC,SAAS,GAAG,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACvC,aAAqB;AACnBH,IAAAA,MAAM,CAACI,GAAP,CAAWF,GAAX,EAAgBC,KAAhB,EAAuB;AACrBE,MAAAA,OAAO,EAAE;AADY,KAAvB;AAGD;AACF,CANM,C,CAQP;;AACA,OAAO,MAAMC,YAAY,GAAIJ,GAAD,IAAS;AACnC,aAAqB;AACnBF,IAAAA,MAAM,CAACO,MAAP,CAAcL,GAAd;AACD;AACF,CAJM,C,CAMP;;AACA,OAAO,MAAMM,SAAS,GAAIN,GAAD,IAAS;AAChC,SAAO,QACHO,mBAAmB,CAACP,GAAD,CADhB,GAEHQ,mBAAmB,CAACR,GAAD,EAAMS,GAAN,CAFvB;AAGD,CAJM,C,CAMP;;AACA,OAAO,MAAMC,eAAe,GAAG,CAACV,GAAD,EAAMC,KAAN,KAAgB;AAC7C,aAAqB;AACnBU,IAAAA,YAAY,CAACC,OAAb,CAAqBZ,GAArB,EAA0Ba,IAAI,CAACC,SAAL,CAAeb,KAAf,CAA1B;AACD;AACF,CAJM,C,CAMP;;AACA,OAAO,MAAMc,iBAAiB,GAAIf,GAAD,IAAS;AACxC,aAAqB;AACnBW,IAAAA,YAAY,CAACK,UAAb,CAAwBhB,GAAxB;AACD;AACF,CAJM,C,CAMP;;AACA,OAAO,MAAMiB,gBAAgB,GAAG,CAACC,QAAD,EAAWC,IAAX,KAAoB;AAClDpB,EAAAA,SAAS,CAAC,OAAD,EAAUmB,QAAQ,CAACE,IAAT,CAAcC,KAAxB,CAAT;AACAX,EAAAA,eAAe,CAAC,MAAD,EAASQ,QAAQ,CAACE,IAAT,CAAcE,IAAvB,CAAf;AACAH,EAAAA,IAAI;AACL,CAJM,C,CAMP;;AACA,OAAO,MAAMI,mBAAmB,GAAG,MAAM;AACvC,aAAqB;AACnB,UAAMC,aAAa,GAAGlB,SAAS,CAAC,OAAD,CAA/B;;AACA,QAAIkB,aAAJ,EAAmB;AACjB,UAAIb,YAAY,CAACc,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChC,eAAOZ,IAAI,CAACa,KAAL,CAAWf,YAAY,CAACc,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD,OAFD,MAEO;AACL,eAAO,KAAP;AACD;AACF;AACF;AACF,CAXM,C,CAaP;;AACA,OAAO,MAAME,UAAU,GAAG,MAAM;AAC9B,aAAqB;AACnBZ,IAAAA,iBAAiB,CAAC,MAAD,CAAjB;AACAX,IAAAA,YAAY,CAAC,OAAD,CAAZ;AACD;AACF,CALM","sourcesContent":["import cookie from \"js-cookie\"\r\n\r\n// setting cookie\r\nexport const setCookie = (key, value) => {\r\n  if (process.browser) {\r\n    cookie.set(key, value, {\r\n      expires: 7,\r\n    })\r\n  }\r\n}\r\n\r\n// removing cookie\r\nexport const removeCookie = (key) => {\r\n  if (process.browser) {\r\n    cookie.remove(key)\r\n  }\r\n}\r\n\r\n// get cookie from storage\r\nexport const getCookie = (key) => {\r\n  return process.browser\r\n    ? getCookieClientSide(key)\r\n    : getCookieServerSide(key, req)\r\n}\r\n\r\n// save to local storage\r\nexport const setLocalStorage = (key, value) => {\r\n  if (process.browser) {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n  }\r\n}\r\n\r\n// clear local storage\r\nexport const clearLocalStorage = (key) => {\r\n  if (process.browser) {\r\n    localStorage.removeItem(key)\r\n  }\r\n}\r\n\r\n// user authentication\r\nexport const authenticateUser = (response, next) => {\r\n  setCookie(\"token\", response.data.token)\r\n  setLocalStorage(\"user\", response.data.user)\r\n  next()\r\n}\r\n\r\n// get user data from local storage\r\nexport const isUserAuthenticated = () => {\r\n  if (process.browser) {\r\n    const cookiePresent = getCookie(\"token\")\r\n    if (cookiePresent) {\r\n      if (localStorage.getItem(\"user\")) {\r\n        return JSON.parse(localStorage.getItem(\"user\"))\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// log out user\r\nexport const logOutUser = () => {\r\n  if (process.browser) {\r\n    clearLocalStorage(\"user\")\r\n    removeCookie(\"token\")\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}