{"ast":null,"code":"var _jsxFileName = \"D:\\\\Courses Projects In Work\\\\Portfolio\\\\sci-waves\\\\client\\\\pages\\\\user\\\\index.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport axios from \"axios\";\nimport Layout from \"../../components/Layout\";\nimport { API } from \"../../config\";\nimport { getCookie } from \"../../utils/helpers\";\n\nconst UserPage = ({\n  user\n}) => {\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }\n  }, \"Customer Page\"), user);\n};\n\nUserPage.getInitialProps = async () => {\n  const token = await getCookie(\"token\");\n  console.log(token);\n\n  try {\n    const response = await axios.get(`${API}/user`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    return {\n      user: response.data\n    };\n  } catch (err) {\n    if (err.response.status === 401) {\n      return {\n        user: \"No user found\"\n      };\n    }\n  }\n};\n\nexport default UserPage;","map":{"version":3,"sources":["D:/Courses Projects In Work/Portfolio/sci-waves/client/pages/user/index.js"],"names":["React","axios","Layout","API","getCookie","UserPage","user","getInitialProps","token","console","log","response","get","headers","Authorization","data","err","status"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,SAAT,QAA0B,qBAA1B;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAC7B,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEGA,IAFH,CADF;AAMD,CAPD;;AASAD,QAAQ,CAACE,eAAT,GAA2B,YAAY;AACrC,QAAMC,KAAK,GAAG,MAAMJ,SAAS,CAAC,OAAD,CAA7B;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,MAAI;AACF,UAAMG,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAW,GAAET,GAAI,OAAjB,EAAyB;AAC9CU,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASN,KAAM,EADxB;AAEP,wBAAgB;AAFT;AADqC,KAAzB,CAAvB;AAMA,WAAO;AAAEF,MAAAA,IAAI,EAAEK,QAAQ,CAACI;AAAjB,KAAP;AACD,GARD,CAQE,OAAOC,GAAP,EAAY;AACZ,QAAIA,GAAG,CAACL,QAAJ,CAAaM,MAAb,KAAwB,GAA5B,EAAiC;AAC/B,aAAO;AAAEX,QAAAA,IAAI,EAAE;AAAR,OAAP;AACD;AACF;AACF,CAhBD;;AAiBA,eAAeD,QAAf","sourcesContent":["import React from \"react\"\r\nimport axios from \"axios\"\r\nimport Layout from \"../../components/Layout\"\r\nimport { API } from \"../../config\"\r\nimport { getCookie } from \"../../utils/helpers\"\r\n\r\nconst UserPage = ({ user }) => {\r\n  return (\r\n    <Layout>\r\n      <h3>Customer Page</h3>\r\n      {user}\r\n    </Layout>\r\n  )\r\n}\r\n\r\nUserPage.getInitialProps = async () => {\r\n  const token = await getCookie(\"token\")\r\n  console.log(token)\r\n  try {\r\n    const response = await axios.get(`${API}/user`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n    return { user: response.data }\r\n  } catch (err) {\r\n    if (err.response.status === 401) {\r\n      return { user: \"No user found\" }\r\n    }\r\n  }\r\n}\r\nexport default UserPage\r\n"]},"metadata":{},"sourceType":"module"}